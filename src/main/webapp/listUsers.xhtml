<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">
	
<h:head>
	<title>JSF 2, Spring 4, Hibernate 4 and Maven Integration</title>
</h:head>
<h:body>
	<h2>List of Users</h2>
	<p>
		<!-- <h:dataTable value="#{userDetailsMBean.userDetailsList}"
			var="userDetails">
			<h:column>
				<f:facet name="header">
                        ID
                    </f:facet>
				<h:outputText value="#{userDetails.id}" />
			</h:column>
			<h:column>
				<f:facet name="header">
                        First Name
                    </f:facet>
				<h:outputText value="#{userDetails.firstName}" />
			</h:column>
			<h:column>
				<f:facet name="header">
                        Last Name
                    </f:facet>
				<h:outputText value="#{userDetails.lastName}" />
			</h:column>
			<h:column>
				<f:facet name="header">
                        Email
                    </f:facet>
				<h:outputText value="#{userDetails.email}" />
			</h:column>
			<h:column>
				<f:facet name="header">
                        DOB
                    </f:facet>
				<h:outputText value="#{userDetails.dob}" />
			</h:column>
		</h:dataTable> -->
		<p:messages id="messages" showSummary="false" showDetail="true" closable="true"/>
		<h:form id="userTable">
			<p:dataTable id="usersList" var="userDetails" value="#{userDetailsMBean.userDetailsList}" paginator="true" editable="true" editMode="cell" rows="5" rowsPerPageTemplate="5,10,25">
			    <p:column headerText="ID">
			        <h:outputText value="#{userDetails.id}" />
			    </p:column>
			    <p:column headerText="First Name">
			        <h:outputText value="#{userDetails.firstName}" />
			    </p:column>
			 
			    <p:column headerText="Last Name">
			        <h:outputText value="#{userDetails.lastName}" />
			    </p:column>
			 
			    <p:column headerText="Email">
			        <h:outputText value="#{userDetails.email}" />
			    </p:column>
			 
			    <p:column headerText="DOB">
			        <h:outputText value="#{userDetails.dob}" />
	    		</p:column>
	    		
	    		<p:column>
	            	
	            	<p:commandButton icon="ui-icon-closethick" title="Delete this user" 
	            	action="#{userDetailsMBean.deleteUser(userDetails.id)}"  ajax="false"/>
	            	 
	            	
	            	<!-- <p:growl id="growl" showDetail="true" /> -->
 
				   <p:commandButton title="Edit user" icon=" ui-icon-pencil" actionListener="#{userDetailsMBean.editUser(userDetails.id)}">
				        <p:ajax event="dialogReturn" listener="#{userDetailsMBean.updateDiologReturn}" update=":userTable" />
				    </p:commandButton> 
	            	
	             </p:column>
			</p:dataTable>
		</h:form>
	</p>
</h:body>
</html>